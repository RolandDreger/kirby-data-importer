(function () {var a={props:{button_headline:String,button_label:String,button_help:String,options_headline:String,options_text:Object,options_help:String,subpage_section:String,subpage_template:String,subpage_status:String,title_key_array:Array,image_page_slug:String,image_field_name:String,options_disabled:Boolean,default_import_mode:String,value:String,endpoints:Object},created:function(){this.options_disabled&&(this.value=this.default_import_mode)},methods:{__onInput:function(e){this.$emit("input",e)},__selectFile:function(e){var t=this;this.$api.get(this.endpoints.field+"/get/files").then(function(e){t.$refs.filesDialog.open(e,{multiple:!1})}).catch(function(e){console.log({error:e})})},__importData:function(e){var t=this;if(!(e&&e instanceof Array&&0!==e.length))return!1;var r=this.value;switch(r||(r=this.default_import_mode),r){case"update":var n=!0;break;case"skip":n=!1;break;default:return console.log({error:"Import mode undefined."}),!1;}var a=e[0].id,i=e[0].url;if(!a||!i)return console.log({error:"File id oder url undefined."}),!1;if(!this.$route||!this.$route.hasOwnProperty("params"))return console.log({error:"$route property \xBBparams\xAB undefined."}),!1;var o=this.$route.params.path;if(!o)return console.log({error:"Page path undefined."}),!1;var s=this.subpage_template;if(!s)return console.log({error:"Template for subpages is undefined."}),!1;var l={id:a,url:i,page:o,template:s,status:this.subpage_status||"draft",title_key_array:this.title_key_array||[],image_page_slug:this.image_page_slug||"",image_field_name:this.image_field_name||"",update:n};this.$api.post(this.endpoints.field+"/import/data",l).then(function(e){if(null!=e&&e.hasOwnProperty("data")&&e.data instanceof Array&&0!==e.data.length){var r=b(t.$root,t.subpage_section);null!=r&&r.hasOwnProperty("reload")?r.reload():location.reload()}}).catch(function(e){console.log({error:e})})}}};function b(e,t){if(!e)return null;if(!t||t.constructor!==String)return null;var r,n,a,i;if(e.hasOwnProperty("_props")&&e._props.hasOwnProperty("name")&&e._props.name===t)return e;if(!e.hasOwnProperty("$children"))return null;if(!((n=e.$children)&&n instanceof Array&&0!==n.length))return null;for(i=0;i<n.length;i+=1)if(a=n[i]){if(a.hasOwnProperty("_props")&&a._props.hasOwnProperty("name")&&a._props.name===t)return a;if(null!=(r=b(a,t)))return r}return null}if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("aside",[_c("k-field",{staticClass:"import-button",attrs:{"label":_vm.button_headline,"help":_vm.button_help}},[_c("k-button",{ref:"importButton",attrs:{"theme":"positiv","icon":"import","responsive":"true"},on:{"click":_vm.__selectFile}},[_vm._v(_vm._s(_vm.button_label))]),_vm._v(" "),_c("k-files-dialog",{ref:"filesDialog",on:{"submit":_vm.__importData}})],1),_vm._v(" "),_c("k-field",{directives:[{name:"show",rawName:"v-show",value:!_vm.options_disabled,expression:"!options_disabled"}],attrs:{"label":_vm.options_headline,"help":_vm.options_help}},[_c("k-input",{staticClass:"import-mode-radio",attrs:{"type":"radio","name":"radio","options":_vm.options_text},on:{"input":_vm.__onInput},model:{value:_vm.value,callback:function($$v){_vm.value=$$v},expression:"value"}})],1)],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("rd/data-importer",{fields:{import_data:a}});})();